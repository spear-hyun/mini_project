{% extends 'base.html' %}
{% block content %}
{% load humanize %}
<style>
  .card-img-top {
    object-fit: contain;
    object-position: center center;
    background-color: transparent;
    height: 650px;
    margin-bottom: 50px;
    border: 1px solid #f1f1f1; /* í…Œë‘ë¦¬ ìŠ¤íƒ€ì¼ê³¼ ìƒ‰ìƒ ì„¤ì • */
  }
</style>

<section class="product-detail">
  <div class="container" style="margin-bottom:200px;">
    <div class="row">
      <div class="col-md-12">
        <h2 style="text-align: center; margin: 30px 0 70px 0; font-size: 70px; font-family: 'Shinb7';">{{ product.product_name }}</h2>
      </div>
      
      <div class="col-md-12">
        <div class="row" style="height: 500px;">
            <div class="col-md-6 text-left" style="margin:auto; ">
              <img class="card-img-top" src="{{product.thumbnail_image.url}}" alt="...">
            </div>
            <div class="col-md-6 text-left" style="margin-bottom: 50px;">
              <p class="user-info"><span class="bold-text">Author:</span> {{ seller.username }}</p>
              <p class="user-info"><span class="bold-text">Phone:</span> {{ seller.phone_number }}</p>

              <p class="product-info1"><span class="bold-text">Price:</span> <span class="money">{{ product.price|intcomma }}</span></p>
              <p class="product-info"><span class="bold-text1">Description</span></p>
              <p class="description"><span class="bold-text">:   </span>{{ product.description }}</p>
              <div class="actions" style="position: relative;">
                <a href="{% url 'talent:add_to_cart' product_id=product.id %}"class="btn-cart" style="margin-top: 100px;">ğŸ›’ Add to Cart</a>
              </div>
          </div>
          
        </div>
    </div>    
  </div>
</section>




<section class="reviews">
  <div class="row">
  <div class="container">
    <hr>
    <h3 style="text-align: center; margin: 30px 0 70px 0; font-size: 70px; font-family: 'Shinb7';">Reviews</h3>
    <div class="actions" style="width: fit-content; margin-left: 1200px; margin-top: -90px;">
      <button class="btn-review" id="open-review-modal">ë¦¬ë·° ì‘ì„±í•˜ê¸°</button>
    </div>
    <br><br>
    {% for review in product.reviews %}
      <div class="review">
        <p><strong>{{ review.user_name }}</strong></p>
        <p>{{ review.content }}</p>
        {% if request.user == review.user %}
          <a href="{% url 'edit_review' review.id %}">Edit</a>
          <a href="{% url 'delete_review' review.id %}">Delete</a>
        {% endif %}
        <hr>
      </div>
    {% empty %}
      <p style="text-align: center; font-size: 25px;">ì‘ì„±ëœ ë¦¬ë·°ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
    {% endfor %}
  </div>
</div>
<!-- ëª¨ë‹¬ ì°½ -->
<div id="review-modal" class="modal modal-overlay" style="display: none;">
  <div class="modal-content">
    <span class="close">&times;</span>
    <h2>ë¦¬ë·° ì‘ì„±</h2>
    <!-- ë¦¬ë·° ì‘ì„± í¼ ë“±ì„ í¬í•¨í•œ ë‚´ìš© -->
    <!-- ... -->
  </div>
</div>

<script>
  // ëª¨ë‹¬ ì°½ ì—´ê¸°
  var openModalBtn = document.getElementById("open-review-modal");
  var reviewModal = document.getElementById("review-modal");
  openModalBtn.addEventListener("click", function() {
    reviewModal.style.display = "block";
  });
  // ëª¨ë‹¬ ì°½ ë‹«ê¸°
  var closeModalBtn = document.getElementsByClassName("close")[0];
  closeModalBtn.addEventListener("click", function() {
    reviewModal.style.display = "none";
  });
  // ëª¨ë‹¬ ì°½ ì™¸ë¶€ í´ë¦­ ì‹œ ë‹«ê¸°
  window.addEventListener("click", function(event) {
    if (event.target == reviewModal) {
      reviewModal.style.display = "none";
    }
  });
  
</script>
</section>

{% endblock %}