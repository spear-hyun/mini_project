{% load static %}
{% load humanize %}

<!doctype html>
<html lang="ko">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" type="text/css" href="{% static 'bootstrap.min.css' %}">
    <!-- pybo CSS -->
    <link rel="stylesheet" type="text/css" href="{% static 'styles.css' %}">
    <title>장바구니</title>
</head>
<body>
    <div class="container my-3">
        <table class="table">
            <thead>
                <tr class="text-center thead-dark">
                    <th style="width:10%; font-size: 30px; ">체크박스</th>
                    <th style="width:10%; font-size: 30px;">번호</th>
                    <th style="width:30%; font-size: 30px;">상품이미지</th>
                    <th style="width:30%; font-size: 30px;">상품명</th>
                    <th style="width:20%; font-size: 30px;">상품가격</th>
                </tr>
            </thead>
            <tbody>
            {% if cart_items %}
            {% for product in products %}
            <tr class="text-center">
                <td class="checkbox">
                    <input type="checkbox" name="product_checkbox" value="{{ product.id }}">
                </td>
                <td>
                    <!-- 번호 = 전체건수 - 시작인덱스 - 현재인덱스 + 1 -->
                    <h4>{{ forloop.counter }}</h4>
                </td>
                <td class="text-center">
                    <img src="{{ product.thumbnail_image.url }}" alt="..." width="300" height="170" />
                </td>
                <td class="text-center">
                    <h4>{{ product.product_name }}</h4>
                </td>
                <td class="text-center">
                    <h4>{{ product.price|intcomma }}</h4>
                </td>
            </tr>
            {% endfor %}
            {% else %}
            <tr>
                <td colspan="3">장바구니에 담긴 상품이 없습니다.</td>
            </tr>
            {% endif %}
            </tbody>
        </table>
    </div>
</body>
</html>